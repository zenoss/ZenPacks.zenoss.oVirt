<?xml version="1.0" ?>
<component type="ovirt" id="vms" label="Virtual Machine" pluralLabel="Virtual Machines" virtualElement="vms" idField="name" >

    <documentation>ovirt REST API modeler plugin</documentation>

    <attribute name="name" valueQuery='here.find("name").text' label="Name" renderExpression="here.getManagedDeviceLink(here)" width='20'/>
    <attribute name="guid" valueQuery='here.attrib["id"]' display="none" />
    <attribute name="href" valueQuery='here.attrib["href"]' display="none" />

    <attribute name="vm_type" valueQuery='here.find("type").text' label="VM Type" />

    <attribute name="element_status" valueQuery='here.find("status").find("state").text' label='Status' />

    <attribute name="memory" valueQuery='here.find("memory").text' type='int' label="Memory" renderExpression="units(value)" width='15'/>
    <attribute name="memory_policy_guaranteed" valueQuery='here.find("memory_policy").find("guaranteed").text' type='int' label="Memory (Guaranteed)" renderExpression="units(value)" width='15' />

    <attribute name="os_type" valueQuery='here.find("os").attrib["type"]' label="OS Type" display='none'/>

    <attribute name="high_availability" valueQuery='here.find("high_availability").find("enabled").text' label="HA" display='none'/>
    <attribute name="high_availability_priority" valueQuery='here.find("high_availability").find("priority").text' label="HA Priority" display='none'/>

    <attribute name="cluster_href" valueQuery='here.find("cluster").attrib["href"]' label="Cluster URL" display='none'/>
    <attribute name="cluster_guid" valueQuery='here.find("cluster").attrib["id"]' label="Cluster GUID" display='none'/>

    <attribute name="template_href" valueQuery='here.find("template").attrib["href"]' label="Template URL" display='none'/>
    <attribute name="template_guid" valueQuery='here.find("template").attrib["id"]' label="Template GUID" display='none'/>

    <attribute name="start_time" valueQuery='here.find("start_time").text' label="Start Time" display='none'/>
    <attribute name="creation_time" valueQuery='here.find("creation_time").text' label="Creation Time" display='none'/>

    <attribute name="stateless" valueQuery='here.find("stateless").text' label="Stateless" display='none'/>
    <attribute name="origin" valueQuery='here.find("origin").text' label="Stateless" display='none'/>

    <attribute name="placement_policy_affinity" valueQuery='here.find("placement_policy").find("affinity").text' label="Placement Policy Affinity" display='none'/>

 <!--  Subcomponents -->
    <subcomponent id="nics" label="NIC" plularlLabel="NICs" idField="name" virtualElement="nics" parentRelation="nics" >
        <attribute name="name" valueQuery='here.find("name").text' label="Name" />
        <attribute name="guid" valueQuery='here.attrib["id"]' display="none" />
        <attribute name="href" valueQuery='here.attrib["href"]' display="none" />

        <attribute name="interface" valueQuery='here.find("interface").text' label="Interface" />
        <attribute name="mac" valueQuery='here.find("mac").attrib["address"]' label="MAC Address" renderExpression="here.getMacAddressLink(here.attributes.get('mac'))" width='25'/>

        <attribute name="network_href" valueQuery='here.find("network").attrib["href"]' label="Network URL" width='40'/>
        <attribute name="network_guid" valueQuery='here.find("network").attrib["id"]' label="Network GUID" width='30'/>
    </subcomponent>

    <subcomponent id="snapshots" label="Snapshot" plularlLabel="Snapshots" idField="name" virtualElement="snapshots" parentRelation="snapshots" >
        <attribute name="name" valueQuery='here.find("description").text' label="Name" />
        <attribute name="guid" valueQuery='here.attrib["id"]' display="none" />
        <attribute name="href" valueQuery='here.attrib["href"]' display="none" />

        <attribute name="description" valueQuery='here.find("description").text' label="Description" width='40'/>
        <attribute name="date" valueQuery='here.find("date").text' label="Date" width='25'/>
        <attribute name="disk_href" valueQuery='here.find("disk").attrib["href"]' label="Disk URL" width='30'/>
        <attribute name="disk_guid" valueQuery='here.find("disk").attrib["id"]' label="Disk GUID" width='30'/>
    </subcomponent>

</component>

